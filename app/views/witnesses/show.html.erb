<!-- app/views/witnesses/show.html.erb -->

<div class="container">
  <!-- Contenu principal -->
  <div class="row mt-4">
    <div class="col-md-3">
      <!-- Photo du témoin -->
      <% if @witness.photo.attached? %>
        <%= image_tag @witness.photo, class: 'avatar' %>
      <% else %>
        <img class="avatar" src="https://via.placeholder.com/150" alt="Photo de témoin">
      <% end %>
    </div>
    <div class="col-md-9">
      <h1>Témoin : <%= @witness.name %></h1>
      <p><strong>Prix par jour :</strong> <%= number_to_currency(@witness.price_per_day) %></p>
      <p><strong>Adresse :</strong> <%= @witness.address %></p>
      <p><strong>Description :</strong> <%= @witness.description %></p>
    </div>
    <%= simple_form_for(@booking, url: witness_bookings_path([@witness, @booking]), html: { class: 'form-horizontal', method: :post }) do |f| %>
  <%= f.hidden_field :witness_id, value: @witness.id %>

  <div class="form-group">

    <%= f.input :wedding_date,
            as: :string,
            input_html: { data: { controller: "datepicker" } } %>
  </div>

  <div class="form-group">

    <%= f.input :wedding_address, input_html: { class: 'form-control' } %>
  </div>

  <div class="form-group">
    <%= f.button :submit, "Réserver", class: "btn btn-primary" %>
  </div>
<% end %>

  </div>
</div>
